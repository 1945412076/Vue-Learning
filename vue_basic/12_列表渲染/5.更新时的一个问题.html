<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <script src="../js/vue.js"></script>
    <title>更新时的一个问题</title>
</head>
<body>
    <!--
        初始Vue：
        1.Vue工作，就必须创建一个Vue实例，传入一个配置对象；
        2.root容器中的代码依然符合html规范，混入了一些特殊的vue语法；
        3.root容器里的代码被称为[vue模版]；
        4.vue实例和容器是一一对应的；
        5.真实开发中只有一个vue实例，并且会配合这组件一起使用；
        6.{{xxx}}中的xxx要写js表达式，且xxx可以自动读取到data中的所有属性；
        7.一旦data中的数据发生变化，那么页面中用到数据的地方也会自动更新；

        注意区分：js表达式和js代码（语句）
            1.表达式：一个表达式会产生一个值，可以放在任何一个需要值的地方；
                （1）a；
                （2）a+b；
                （3）demo(1);
                (4) x===y?'a':'b'

            2.js代码（语句）
                （1）if（）；
                （2）for（）；
    -->
    <!--创建一个容器-->
    <div class="root">
        <h1>你好,{{name}}</h1>
        <button @click="updata()">将周深换成马老师</button>
        <ul>
            <li v-for="(value,key) in perpsons" ::key="value.id">
                {{value.name}}-{{value.age}}-{{value.sex}}
            </li>
        </ul>
        <!--插值函数-->
    </div>
    <script type="text/javascript">
        Vue.config.productionti=false//阻止vue在启动时生成生产提示。
        //创建Vue实例
         const vm=new Vue({
            el:'.root',
            data:{ name:'vue',
                    perpsons:[
                    {id:'001',name:'马冬梅',age:28,sex:'女'},
                    {id:'002',name:'马后炮',age:40,sex:'男'},
                    {id:'003',name:'周杰伦',age:30,sex:'男'},
                    {id:'004',name:'周深',age:30,sex:'男'},
                    ]    
            },
           methods: {
            updata(){
                // this.perpsons[3].name='马老师'
                //不能使用这中方式，vue无法检测
                // this.perpsons[3]={id:'004',name:'马老师',age:'70',sex:'男'}
                this.perpsons.splice(3,1,{id:'004',name:'马老师',age:'70',sex:'男'})
            }
           },
        })
    </script>
</body>
</html>